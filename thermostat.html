<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Thermostat</title>
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="src/thermostat.js"></script>
  </head>
  <body class="background">
    <section>
      <h1 id="temperature"></h1>
      <p>
    <button type="button" id="temperature-up">+</button>
    <button type="button" id="temperature-down">-</button>
    <button type="button" id="temperature-reset">Reset</button>
    <!-- PSM<span id="power-saving-status">on</span> -->
    <p>PSM:</p>
    <p id="PSM"></p>
    <button type="button" id="powersaving-on">PSM On</button>
    <button type="button" id="powersaving-off">PSM Off</button>
    <p id='usage'></p>
  </p>
  </section>

  <script>
  $(document).ready(function() {
    var thermostat = new Thermostat();
    updateTemperature();

    function updateTemperature(){
        $('#temperature').text(thermostat.temperature);
        if (thermostat.powerUsage() === "Low usage") {
          $('#temperature').css('color', 'green')
        } else if (thermostat.powerUsage() === "Medium usage") {
          $('#temperature').css('color', 'orange')
        } else if (thermostat.powerUsage() === "High usage") {
          $('#temperature').css('color', 'red')
      }
    }

    $('#temperature-up').click(function() {
      thermostat.increase();
      updateTemperature();
      $('#usage').text(thermostat.powerUsage());
    });

      $('#temperature-down').click(function() {
        thermostat.decrease();
        updateTemperature();
        $('#usage').text(thermostat.powerUsage());
      });

      $('#temperature-reset').click(function() {
        thermostat.reset();
        updateTemperature();
        $('#usage').text(thermostat.powerUsage());
      });

      $('#PSM').text(thermostat.powerSaverOn);
      $('#powersaving-on').click(function() {
        thermostat.powerSaveSwitchOn();
        $('#PSM').text(thermostat.powerSaverOn);
        updateTemperature();
      });

      $('#powersaving-off').click(function() {
        thermostat.powerSaveSwitchOff();
        $('#PSM').text(thermostat.powerSaverOn);
      });
      $('#usage').text(thermostat.powerUsage());
  });

  </script>
  </body>
</html>
